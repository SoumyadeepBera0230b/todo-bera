{% extends 'base.html' %}
{% block title %}
<title> {{ titles }} </title>
{% endblock %}

{% block body%}
<div class="d-flex mt-5 align-items-center justify-content-center"
  style="width: 100vw;height: 70vh; background-color: #18BC9C;">
  <div class="mx-auto" style="width: 30vw;">
    <h1 class="text-center text-decoration-underline text-light">Create Todo</h1>
    <form action="/home" method="POST">
      <div class="mb-3">
        <label for="exampleInputEmail1" class="form-label fs-4 fw-bold text-light">
          Title
        </label>
        <input type="text" class="form-control" name="title" required placeholder="Enter Title">
      </div>
      <div class="mb-3">
        <label for="exampleInputPassword1" class="form-label fs-4 fw-bold text-light">Description</label>
        <input type="text" class="form-control" name="desc" required placeholder="Enter Description">
      </div>
      <div class="text-center">
        <button type="submit" class="btn text-white btn-lg m-3" style="background-color: #2C3E50;">Add
          Todo</button>
      </div>
    </form>
  </div>
</div>

{% if alltodos|length <=0%} <div class="text-start alert alert-success">
  <div class="mx-auto" style="width: 80vw">
    No Todos to show, Add a Todo, Completed it and Check your <a href="/completed">Completed</a> Todos
  </div>
  </div>
  {% else %}
  <hr class="bg-danger border-3 border-top border-dark">
  <div class=" container mx-auto" style="width: 80vw; color: #18bc9c">
    <h1 class="text-center m-4 text-decoration-underline">Your Todos</h1>
    <table class="table table-light table-striped text-center">
      <thead>
        <tr>
          <th scope="col">S.NO</th>
          <th scope="col">Title</th>
          <th scope="col">Description</th>
          <th scope="col">Date</th>
          <th scope="col">Actions</th>
        </tr>
      </thead>
      <tbody>
        {% for todo in alltodos %}
        <tr>
          <th scope="row">{{loop.index}}</th>
          <td>{{todo.title}}</td>
          <td>{{todo.desc}}</td>
          <td>{{todo.date}}</td>
          <td>
            <a href="/update/{{todo.sno}}" type="button" class="btn btn-primary btn-sm m-1">Update</a>
            <a href="/delete/{{todo.sno}}" type="button" class="btn btn-danger btn-sm">Delete</a>
            <a href="/done/{{todo.sno}}" type="button" class="btn btn-success btn-sm m-1">Done</a>
          </td>
        </tr>
        {% endfor %}
    </table>
    {% endif %}
  </div>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-ENjdO4Dr2bkBIFxQpeoTz1HIcje39Wm4jDKdf19U8gI4ddQ3GYNS7NTKfAdVQSZe"
    crossorigin="anonymous"></script>

  {% endblock body%}

  </html>